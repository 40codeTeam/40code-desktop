(window.webpackJsonpGUI=window.webpackJsonpGUI||[]).push([[22],{1639:function(e,n,t){"use strict";t.r(n),t.d(n,"resources",(function(){return s}));const s={"userscript.js":async function(e){let{addon:n,global:t,cons:s,msg:o}=e;const c=await n.tab.traps.getBlockly();let i=null;function r(e,t){return i||(i=[...e]),n.self.disabled||(e.push(["-","-"],[",",","],[".","."]),e.splice(5,0,[o("enter-key"),"enter"]),n.settings.get("experimentalKeys")&&e.push(["`","`"],["=","="],["[","["],["]","]"],["\\","\\"],[";",";"],["'","'"],["/","/"]),t&&n.settings.get("shiftKeys")&&e.push(["!","!"],["@","@"],["#","#"],["$","$"],["%","%"],["^","^"],["&","&"],["*","*"],["(","("],[")",")"],["_","_"],["+","+"],["{","{"],["}","}"],["|","|"],[":",":"],['"','"'],["?","?"],["<","<"],[">",">"],["~","~"]),n.settings.get("twKeys")&&e.push(["backspace","backspace"],["delete","delete"],["shift","shift"],["caps lock","caps lock"],["scroll lock","scroll lock"],["control","control"],["escape","escape"],["insert","insert"],["home","home"],["end","end"],["page up","page up"],["page down","page down"])),e}for(const e of["sensing_keyoptions","event_whenkeypressed"]){const n=c.Blocks[e],t=n.init;n.init=function(){const n=this.jsonInit;this.jsonInit=function(t){return r(t.args0[0].options,"event_whenkeypressed"===e),n.call(this,t)};for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return t.call(this,...o)}}const l=()=>{const e=Blockly.getMainWorkspace(),n=e&&e.getFlyout();if(e&&n){const t=[...e.getAllBlocks(),...n.getWorkspace().getAllBlocks()];for(const e of t){if("event_whenkeypressed"!==e.type&&"sensing_keyoptions"!==e.type)continue;const n=e.inputList[0];if(!n)continue;const t=n.fieldRow.find(e=>e&&Array.isArray(e.menuGenerator_));t&&(t.menuGenerator_=r(i?[...i]:t.menuGenerator_,"event_whenkeypressed"===e.type))}}};l(),n.settings.addEventListener("change",l),n.self.addEventListener("disabled",l),n.self.addEventListener("reenabled",l)}}}}]);