(window.webpackJsonpGUI=window.webpackJsonpGUI||[]).push([[34],{1778:function(e,s,a){(e.exports=a(9)(!1)).push([e.i,".sa-fullscreen.sa-body-editor {\n  overflow: hidden !important;\n}\n",""])},1779:function(e,s,a){(e.exports=a(9)(!1)).push([e.i,'[class*="stage-wrapper_full-screen"] [class*="stage_full-screen"],\n[class*="stage-wrapper_full-screen"] [class*="stage_green-flag-overlay-wrapper"] {\n  border: 0 !important;\n  border-radius: 0 !important;\n}\n\n[class*="stage_stage-overlays_"][class*="stage_full-screen_"] {\n  top: 0;\n  left: 0;\n}\n',""])},1780:function(e,s,a){(e.exports=a(9)(!1)).push([e.i,'[class*="stage-wrapper_full-screen"] [class*="stage-wrapper_stage-canvas-wrapper"],\n[class*="stage-wrapper_full-screen"] [class*="stage_stage"],\n[class*="stage-wrapper_full-screen"] [class*="stage-header_stage-menu-wrapper"],\n[class*="stage-wrapper_full-screen"] canvas {\n  width: min(calc((100vh - 44px) * var(--sa-fullscreen-width) / var(--sa-fullscreen-height)), 100vw) !important;\n}\n\n[class*="stage-wrapper_full-screen"] [class*="stage-wrapper_stage-canvas-wrapper"],\n[class*="stage-wrapper_full-screen"] [class*="stage_stage"],\n[class*="stage-wrapper_full-screen"] [class*="stage_green-flag-overlay-wrapper"],\n[class*="stage-wrapper_full-screen"] canvas {\n  height: min(calc(100vh - 44px), calc(100vw * var(--sa-fullscreen-height) / var(--sa-fullscreen-width))) !important;\n}\n\n[class*="stage-wrapper_full-screen"] {\n  padding: 0rem !important;\n}\n\n[class*="stage-wrapper_full-screen"] [class*="monitor-list_monitor-list"] {\n  overflow: visible;\n}\n\n[class*="stage-wrapper_full-screen"] [class*="stage_question-wrapper"] {\n  width: auto !important;\n}\n',""])},1781:function(e,s,a){(e.exports=a(9)(!1)).push([e.i,'[class*="stage-wrapper_full-screen"] [class*="stage-wrapper_stage-canvas-wrapper"],\n[class*="stage-wrapper_full-screen"] [class*="stage_stage"],\n[class*="stage-wrapper_full-screen"] [class*="stage-header_stage-menu-wrapper"],\n[class*="stage-wrapper_full-screen"] canvas {\n  width: min(calc(100vh * var(--sa-fullscreen-width) / var(--sa-fullscreen-height)), 100vw) !important;\n}\n\n[class*="stage-wrapper_full-screen"] [class*="stage-wrapper_stage-canvas-wrapper"],\n[class*="stage-wrapper_full-screen"] [class*="stage_stage"],\n[class*="stage-wrapper_full-screen"] [class*="stage_green-flag-overlay-wrapper"],\n[class*="stage-wrapper_full-screen"] canvas {\n  height: min(100vh, calc(100vw * var(--sa-fullscreen-height) / var(--sa-fullscreen-width))) !important;\n}\n\n[class*="stage-wrapper_full-screen"] {\n  padding: 0rem !important;\n}\n\n[class*="stage-wrapper_full-screen"] [class*="monitor-list_monitor-list"] {\n  overflow: visible;\n}\n\n[class*="stage-wrapper_full-screen"] [class*="stage_question-wrapper"] {\n  width: auto !important;\n}\n',""])},1782:function(e,s,a){(e.exports=a(9)(!1)).push([e.i,'[class*="stage-wrapper_full-screen"] {\n  display: none;\n  top: 0rem !important;\n}\n\n[class*="stage-header_stage-header-wrapper-overlay"] {\n  display: block;\n  transform: translateY(-101%);\n  transition: transform 0.3s;\n}\n\n.phantom-header {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  height: 8px;\n  display: block;\n  z-index: 5000;\n}\n\n.stage-header-hover {\n  transform: translateY(0%);\n  transition: transform 0.3s 0.25s;\n}\n',""])},1855:function(e,s,a){"use strict";a.r(s),a.d(s,"resources",(function(){return g}));var t=a(1778),n=a.n(t),r=a(1779),l=a.n(r),c=a(1780),i=a.n(c),o=a(1781),p=a.n(o),d=a(1782),u=a.n(d);const g={"userscript.js":async function(e){let{addon:s,console:a}=e;const t=s.tab.traps.vm,n=()=>{document.documentElement.style.setProperty("--sa-fullscreen-width",t.runtime.stageWidth),document.documentElement.style.setProperty("--sa-fullscreen-height",t.runtime.stageHeight)};n(),t.on("STAGE_SIZE_CHANGED",n);let r,l,c,i=!1;function o(){s.settings.get("browserFullscreen")&&!s.self.disabled&&(s.tab.redux.state.scratchGui.mode.isFullScreen&&null===document.fullscreenElement?(i=!0,document.documentElement.requestFullscreen().then((()=>{i=!1})).catch((e=>{a.error(e),i=!1}))):s.tab.redux.state.scratchGui.mode.isFullScreen||null===document.fullscreenElement||document.exitFullscreen())}async function p(){if(!s.self.disabled&&s.tab.redux.state.scratchGui.mode.isFullScreen&&"hover"===s.settings.get("toolbar")){const e=await s.tab.waitForElement('[class*="stage_full-screen"] canvas'),a=await s.tab.waitForElement('[class^="stage-header_stage-header-wrapper"]'),t=a.parentElement.appendChild(document.createElement("div"));t.classList.add("phantom-header"),t.appendChild(a),t.addEventListener("mouseenter",(()=>{a.classList.add("stage-header-hover")})),t.addEventListener("mouseleave",(()=>{a.classList.remove("stage-header-hover")})),document.body.addEventListener("mouseleave",(e=>{e.clientY<8&&a.classList.add("stage-header-hover")})),document.body.addEventListener("mouseenter",(()=>{a.classList.remove("stage-header-hover")})),["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","wheel"].forEach((s=>{t.addEventListener(s,(s=>{s.target.classList.contains("phantom-header")&&e.dispatchEvent(new s.constructor(s.type,s))}))}))}else{const e=await s.tab.waitForElement('[class*="stage-header_stage-header-wrapper"]');if(e.parentElement.classList.contains("phantom-header")){const s=e.parentElement;s.parentElement.appendChild(e),s.remove()}}}async function d(){const e=await s.tab.waitForElement(".sa-body-editor");s.tab.redux.state.scratchGui.mode.isFullScreen?e.classList.add("sa-fullscreen"):e.classList.remove("sa-fullscreen")}async function u(){r=await s.tab.waitForElement("[class*=monitor-list_monitor-list-scaler]"),c=await s.tab.waitForElement('[class*="stage-wrapper_full-screen"] [class*="stage_stage"] canvas'),l=new ResizeObserver((()=>{const e=c.getBoundingClientRect();if(!e.width||!e.height)return;const a=s.tab.traps.vm.runtime.renderer;a&&a.resize(e.width,e.height);const n=e.width/t.runtime.stageWidth;r.style.transform="scale(".concat(n,", ").concat(n,")")})),l.observe(c)}p(),u(),d(),o(),s.tab.redux.initialize(),s.tab.redux.addEventListener("statechanged",(e=>{"scratch-gui/mode/SET_FULL_SCREEN"===e.detail.action.type&&(u(),o(),d(),p())})),window.addEventListener("resize",(()=>{i||s.settings.get("browserFullscreen")&&!s.self.disabled&&null===document.fullscreenElement&&s.tab.redux.state.scratchGui.mode.isFullScreen&&s.tab.redux.dispatch({type:"scratch-gui/mode/SET_FULL_SCREEN",isFullScreen:!1})})),document.addEventListener("fullscreenchange",(()=>{null===document.fullscreenElement&&s.tab.redux.state.scratchGui.mode.isFullScreen&&s.tab.redux.dispatch({type:"scratch-gui/mode/SET_FULL_SCREEN",isFullScreen:!1})})),s.settings.addEventListener("change",(()=>{o(),p()})),s.self.addEventListener("disabled",(()=>{l.disconnect(),p()})),s.self.addEventListener("reenabled",(()=>{l.observe(c),o(),p()}))},"hideOverflow.css":n.a,"removeBorder.css":l.a,"resizeWindow.css":i.a,"resizeWindow_noToolbar.css":p.a,"hideToolbar.css":u.a}}}]);